# README: create_file_cards_from_json.py

## Description
`create_file_cards_from_json.py` is a Python script designed to process JSON files generated by Instagram's activity download feature. The script generates image-based file cards for each media item described in the JSON file and organizes them into a PDF book. This tool is particularly useful for visualizing and archiving Instagram activity data, such as posts, stories, reels, and other media.

You have to get Intstagram to send you your archive data, which can be done (at the moment), but requires a bit of digging in the App to find the right place to request it.

See below for a copy of the current (2025-08-23T10:34:46-07:00) instructions.

---

## Arguments

### Required Arguments:
- `--input-json`
  - **Description**: Path to the input JSON file containing Instagram activity data.
  - **Example**: `--input-json path/to/your/instagram_data.json`

- `--image-base-dir`
  - **Description**: Base directory where the media files referenced in the JSON are stored.
  - **Example**: `--image-base-dir path/to/media/files`

### Optional Arguments:
- `--output-dir`
  - **Description**: Directory to save the generated file cards and PDFs.
  - **Default**: A directory named after the JSON file and page size.
  - **Example**: `--output-dir path/to/output`

- `--cmyk-mode`
  - **Description**: Generate file cards in CMYK color mode (useful for print).
  - **Default**: Disabled.
  - **Example**: `--cmyk-mode`

- `--page-size`
  - **Description**: Page size for the generated file cards (e.g., A4, LETTER, LARGE_TAROT).
  - **Default**: `LARGE_TAROT`.
  - **Example**: `--page-size DIGEST`

  - `--page-size`: Card size (default: LARGE_TAROT)
  - Predefined sizes: A0-A5, LETTER, LEGAL, TABLOID, DIGEST
  - Card sizes: POKER, BRIDGE, MINI, LARGE_TAROT, SMALL_TAROT, LARGE_SQUARE, SMALL_SQUARE
  - Custom sizes: Specify as WxH in inches (e.g., "3.5X5.0")

  - Note that you'll have to put in a custom size if you want to add a margin for full-bleed, generally 0.25", I think.

**Supported Page Sizes and Their Dimensions (in inches):**

| Name         | Width (in) | Height (in) |
|--------------|------------|-------------|
| A0           | 33.11      | 46.81       |
| A1           | 23.39      | 33.11       |
| A2           | 16.54      | 23.39       |
| A3           | 11.69      | 16.54       |
| A4           | 8.27       | 11.69       |
| A5           | 5.83       | 8.27        |
| LETTER       | 8.5        | 11          |
| LEGAL        | 8.5        | 14          |
| TABLOID      | 11         | 17          |
| DIGEST       | 5.5        | 8.5         |
| POCKETBOOK   | 4.25       | 6.87        |
| POKER        | 2.48       | 3.46        |
| BRIDGE       | 2.24       | 3.46        |
| MINI         | 1.73       | 2.68        |
| LARGE_TAROT  | 2.76       | 4.72        |
| SMALL_TAROT  | 2.76       | 4.25        |
| LARGE_SQUARE | 2.76       | 2.76        |
| SMALL_SQUARE | 2.48       | 2.48        |
-------------------------------------------

- `--pdf-output-name`
  - **Description**: Name of the output PDF file.
  - **Default**: Automatically generated based on the input JSON name and page size.
  - **Example**: `--pdf-output-name my_archive.pdf`

- `--delete-cards-after-pdf`
  - **Description**: Delete individual card files after the PDF is created.
  - **Default**: Disabled.
  - **Example**: `--delete-cards-after-pdf`

- `--border-color`
  - **Description**: Border color for the cards in RGB format.
  - **Default**: `250,250,250` (light gray).
  - **Example**: `--border-color 255,0,0` (red border).

- `--border-inch-width`
  - **Description**: Border width in inches.
  - **Default**: `0.125`.
  - **Example**: `--border-inch-width 0.25`

- `--include-video-frames`
  - **Description**: Include individual video frames as cards.
  - **Default**: Disabled.
  - **Example**: `--include-video-frames`

- `--exclude-file-path`
  - **Description**: Exclude the file path from being displayed on the card.
  - **Default**: Displayed.
  - **Example**: `--exclude-file-path`

- `--cards-per-chunk`
  - **Description**: Number of cards per chunk. If set, the script splits the cards into multiple PDFs.
  - **Default**: `0` (no chunking).
  - **Example**: `--cards-per-chunk 100`

---

## How the Script Handles Instagram JSON Files

### Input JSON Structure:
The script processes JSON files generated by Instagram's activity download feature. These files typically contain metadata about posts, stories, reels, and other media. The script supports the following keys:

- `ig_stories`: Contains metadata for Instagram stories.
- `ig_other_media`: Contains metadata for other media types.
- `ig_reels`: Contains metadata for Instagram reels.
- `ig_igtv_media`: Contains metadata for IGTV videos.
- `ig_archived_posts`: Contains metadata for archived posts.

If none of these keys are present, the script assumes the JSON contains a list of posts.

### Sorting:
- **Stories**: Sorted by the `creation_timestamp` field.
- **Posts**: Sorted by the `creation_timestamp` of the first media item in the `media` array.

### Media Handling:
- The script reads the `uri` field in the JSON to locate the corresponding media file in the `image-base-dir`.
- If the media file is missing or the `uri` is invalid, the script logs a warning and skips the item.

### Output:
- **File Cards**: Each media item is converted into a visually appealing file card with metadata such as title, creation timestamp, and file path.
- **PDF**: The file cards are assembled into a PDF. If chunking is enabled, multiple PDFs are created.

---

## Example Usage

### Basic Usage:
```bash
python3 create_file_cards_from_json.py \
  --input-json path/to/instagram_data.json \
  --image-base-dir path/to/media/files
```

### Advanced Usage:
```bash
python3 create_file_cards_from_json.py \
  --input-json path/to/instagram_data.json \
  --image-base-dir path/to/media/files \
  --output-dir path/to/output \
  --cmyk-mode \
  --page-size A4 \
  --pdf-output-name my_archive.pdf \
  --delete-cards-after-pdf \
  --border-color 255,0,0 \
  --cards-per-chunk 100
```

```bash
python3 create_file_cards_from_json.py --input-json '/Users/julian/Desktop/OMATA_IG_08202025/your_instagram_activity/media/stories.json' --image-base-dir '/Users/julian/Desktop/OMATA_IG_08202025/' --output-dir '/Volumes/Crucial X10/OMATA_IG_08202025/omata-instagram-cards/STORIES/' --page-size 5.75x8.75 --cmyk-mode --delete-cards-after-pdf --border-inch-width 0.15 --border-color '210, 255, 66' --cards-per-chunk 520
```

---

## Logging
The script logs detailed information about its progress, including:
- JSON file loading.
- Media file processing.
- File card generation.
- PDF assembly.

Errors and warnings are logged to help identify issues, such as missing media files or invalid JSON structures.


---

## Exporting your data from Instagram

[https://help.instagram.com/181231772500920/?helpref=uf_share](https://help.instagram.com/181231772500920/?helpref=uf_share)

Note that when you do this you'll have an option to select the specific data you want, time range and such. You definitely want `media` and you definitely have to select `json` for the format of the activity data. If you select `html` there is no structured data for this generator to consume. Do not select `html` — select `json`.

```text
Review and export a copy of your Instagram information
4-4 minutes

You're in control of your information on Instagram. You can review your information in Account history or export a copy of your information to an external service, or export it to your device.

To review your information, go to your Account history.

Review your Instagram information in Account history

Click  Menu in the bottom left, then click Your Activity.

Click Account history to view changes you’ve made to your account.

From here, you may be able to make additional changes by clicking on the change.
To filter your account history, click Sort & filter at the top and select your sorting preferences or the date range, then click Apply.
Export a copy of your information on Instagram

You can export your information in the Your information and permissions section in Accounts Center.

To export your information to a device, you need sufficient storage space. The types of information and media quality that you select can make the size of your files larger or smaller.

For example, files with high-quality videos are larger, while choosing to only download one type of information is smaller. Check your available storage space to help decide if you want to download to a device or to an external service.

### Export your Instagram information from Accounts Center to a device
Click More icon, represented by a hamburgerMore in the bottom left, then click Settings iconSettings.

Click Accounts Center, then click Your information and permissions.

Click Export your information.

Click Create export.
Select the profile you’d like to export information from.

Click Next.

Select Export to device.

From here, you can choose specific info to export, select a date range, format, the notification email and media quality.

Once you have customized your export, click Start export.

Export your Instagram information from Accounts Center to an external service

Click More icon, represented by a hamburgerMore in the bottom left, then click Settings iconSettings.

Click Accounts Center, then click Your information and permissions.

Click Export your information.

Click Create export.

Select the profile you’d like to export information from.

Click Next.

Select Export to external service.

Choose an external service to export your information to and click Next.b
You will need to connect to the external service you’ve selected.

Choose how often you want to export and click Next.

Enter the password for the profile you selected and click Next.
From here, you can customize your export, choose your notification email and format.

Once you have customized your export, click Start export.
When your export is ready, you’ll have 4 days to export your information in the 

Available downloads section in the Export your information tool in Accounts Center. You can also delete your export or view past file requests in the Past request section.

Exporting your files is a password-protected process that only you have access to.

If you’ve requested for your information to be exported to an external device, you’ll receive an email notification and a notification on Instagram letting you know it's done.

Note: It may take up to 30 days for us to email you an export link. Some information you have deleted may be stored temporarily for safety and security purposes, but will not appear when you access or download your information.

If you can't access your Instagram Account and still want to export a copy of your information, you can contact us.
```


---

## Page Sizes
